\documentclass[french]{report}
\usepackage{babel}
\usepackage{dsfont}
\usepackage{hyperref}
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage[T1]{fontenc}

\theoremstyle{plain}
\newtheorem{thm}{Théorème}[section]
\newtheorem{prop}{Proposition}[section]

\theoremstyle{definition}
\newtheorem{defi}{Définition}[section]
\newtheorem{exemple}{Exemple}[section]

\theoremstyle{remark}
\newtheorem{rem}{Remarque}[section]

\newcommand\itemb{\item[$\bullet$]}

\begin{document}

\title{Intégration et probabilités}
\author{César Almecija
\\ étudiant en première année aux MINES ParisTech
\\ \href{mailto:cesar.almecija@mines-paristech.fr}{cesar.almecija@mines-paristech.fr}}

\maketitle

\tableofcontents

\chapter*{Avant-propos}
Ce document vise à résumer les notions essentielles d'intégration et de probabilités.
Son objectif est de retracer les cheminements de pensée qui mènent aux résultats essentiels, afin de mieux les retenir.
Ainsi, il pourra être avantageusement utilisé pour se refamiliariser avec ces notions, au cas-où elles auraient été oubliées.
Ce travail peut également servir de préambule à une étude plus approfondie du sujet, pour découvrir les fondements de ce domaine des mathématiques.

Néanmoins, ce document ne saurait se substituer à un ouvrage de référence. En effet, par soucis de clarté et de concision, il ne détaille pas toutes les démonstrations.
Celles-ci sont néanmoins nécessaires pour saisir l'entièreté des résultats énoncés ici. De cette manière, \textbf{il faut le lire comme un aide-mémoire ou un résumé, et non comme un cours}.

\bigskip

Ce travail se partage en trois grandes parties :
\begin{itemize}
  \itemb Une première partie commençant par une introduction à la théorie de la mesure, suivie de la construction rapide de l'intégrale de Lebesgue, et qui finit par s'attarder sur les résultats essentiels d'intégration
  \itemb Une deuxième partie qui applique la partie précédente à la théorie des probabilités
  \itemb Une troisième partie rapide qui explore la théorie des séries à l'aide des résultats précédents.
\end{itemize}

\bigskip

Ce document s'est grandement inspiré du cours \href{https://github.com/boisgera/CDIS}{Calcul Différentiel, Intégral et Stochastique (CDIS)} de l'Ecole des MINES ParisTech.
L'auteur recommande aux lecteurs intéressés de s'y référer régulièrement.

\part{Théorie de la mesure et intégration}

\chapter{Introduction à la théorie de la mesure}

Pour comprendre cette notion, partons d'un constat évident. On sait mesurer la taille d'un segment : la manière de mesurer cette grandeur est d'utiliser la \textit{longueur}.
Par exemple, la longueur du segment $\left[0,1\right]$ vaut $1$.
Plus généralement, $\lambda$, l'application qui à un segment $\left[a,b\right]$ associe sa longueur $b-a$, pourrait s'appeler dans le langage courant une \textit{mesure}, c'est-à-dire une fonction permettant d'obtenir la mesure (la taille) d'un objet.

Se posent alors les questions suivantes :
\begin{itemize}
  \itemb dans $\mathbb{R}$, comment mesurer n'importe-quel ensemble ?
  \itemb plus généralement, comment mesurer dans $\mathbb{R}^n$ ?
  \itemb mais est-il possible de \textit{tout} mesurer ? Ou faut-il se restreindre à une catégorie d'ensembles \textit{mesurables} ?
\end{itemize}

On commencera par répondre à cette dernière question.

\section{Ensembles mesurables}

Il n'est pas possible de tout mesurer ainsi. Il faut introduire une classe d'ensembles, appelée \textbf{tribu}, qui va représenter l'ensemble des ensembles \textbf{mesurables}.

Une tribu doit cependant garantir certaines propriétés de stabilité par opérations ensemblistes.
En effet, si deux ensembles sont mesurables, on aimerait pouvoir donner un sens à la mesure de leur intersection ou de leur union.
De même, si un ensemble est mesurable, il est légitime de demander que son complémentaire soit mesurable à son tour.
Enfin, demander que l'ensemble vide soit mesurable est raisonnable, et on verra par la suite que la mesure du vide doit valoir $0$, conformément à l'intuition.

Ces considérations étant faites, on définit alors une tribu comme suit :

\begin{defi}
  Une \textbf{tribu} (ou $\sigma\textbf{-algèbre}$) $\mathcal{A}$ d'un ensemble $E$ est une collection d'ensembles $\mathcal{A} \subset \mathcal{P}(E)$ vérifiant les hypothèses suivantes :
  \begin{enumerate}
    \item $\varnothing \in \mathcal{A}$
    \item $\mathcal{A}$ est stable par passage au complémentaire
    \item $\mathcal{A}$ est stable par union dénombrable
  \end{enumerate}
\end{defi}

\begin{defi}
  \label{defi:espmes}
  Un \textbf{espace mesurable} $\left(E, \mathcal{A}\right)$ est un ensemble $E$ muni d'une tribu $\mathcal{A}$.
\end{defi}

\begin{defi}
  \label{defi:ensmes}
  Soit $\left(E, \mathcal{A}\right)$ un espace mesurable. Un ensemble $X\in \mathcal{A}$ est dit $\mathcal{A}$-\textbf{mesurable}.
\end{defi}

\begin{rem}
  Si le contexte est clair (\textit{ie} il n'y a qu'une seule tribu), on pourra omettre $\mathcal{A}$ et parler simplement d'ensemble mesurable
\end{rem}

\begin{rem}
  On remarquera qu'il faut distinguer les \textit{espaces} mesurables (définition \ref{defi:espmes}) des \textit{ensembles} mesurables (définition \ref{defi:ensmes}).
\end{rem}

\begin{defi}
  Soit $E$ un ensemble, et $B$ une collection d'ensembles de $E$.
  La \textbf{tribu engendrée par} $B$ est la plus petite tribu sur $E$ contenant $B$.
  De manière équivalente, c'est l'intersection de toutes les tribus de $E$ contenant $B$.
\end{defi}

\begin{defi}
  \label{defi:Borel}
  Soit $E$ un ensemble muni d'une topologie.
  La \textbf{tribu de Borel} est la tribu engendrée par les ouverts de $E$ (ou de manière équivalente, par les fermés de $E$).
\end{defi}

\section{Définition de la mesure}

Abordons désormais la notion de mesure.
Un ensemble mesurable doit intuitivement admettre une mesure positive.
De plus, si deux ensembles sont disjoints, il est légitime de demander que la mesure de leur union soit la somme des mesures.

Cela nous amène à définir une mesure ainsi :

\begin{defi}
  Une \textbf{mesure} $\mu$ sur un espace mesurable $(E, \mathcal{A})$ est une application $\mu : \mathcal{A} \longrightarrow \mathbb{R}_+$ telle que :
  \begin{enumerate}
    \item $\mu(\varnothing) = 0$
    \item Pour une famille au plus dénombrable d'ensembles mesurables $\left(A_i\right)_{i \in I}$,
    $$\mu\left(\bigcup_{i \in I}A_i\right) = \sum_{i \in I} \mu\left(A_i\right)$$
  \end{enumerate}
\end{defi}

\begin{rem}
  Cette deuxième propriété porte le nom de $\sigma$\textbf{-additivité}.
\end{rem}

\begin{rem}
  Si $\mu(\varnothing) \neq 0$, le lecteur pourra vérifier que la mesure de n'importe-quel ensemble mesurable (\textit{a fortiori} du vide) vaut $+\infty$.
  On comprend alors pourquoi on impose que la mesure du vide soit nulle : si ce n'était pas le cas, mesurer n'aurait pour ainsi dire aucun intérêt.
\end{rem}

\begin{defi}
  Un \textbf{espace mesuré} $\left(E, \mathcal{A}, \mu\right)$ est un espace mesurable $\left(E, \mathcal{A}\right)$ muni d'une mesure $\mu$.
\end{defi}

\begin{defi}
  Soit $\left(E, \mathcal{A}, \mu\right)$ un espace mesuré.
  Un ensemble $X \subset E$ est dit \textbf{négligeable} si :
  $$\exists Y \in \mathcal{A}, 
  \left\{
    \begin{array}{c}
      \mu(Y)=0\\
      X \subset Y
    \end{array}
    \right.$$
\end{defi}

\begin{rem}
  \label{rem:completion}
  On remarque qu'un ensemble négligeable n'est pas forcément mesurable.
  Il est cepedant commode d'imposer qu'un ensemble négligeable soit nécessairement mesurable.
  Modifier une mesure et la tribu respective pour arriver à ce résultat porte le nom de \textbf{complétion d'une mesure}.

  Ce processus ne sera pas détaillé ici, mais le lecteur peut néanmois retenir qu'une mesure complétée vérifie l'équivalence suivante : \textbf{un ensemble est négligeable ssi il est mesurable, de mesure nulle}
\end{rem}

\section{Exemples importants}
Il existe trois mesures importantes à connaître.

\begin{defi}
  La \textbf{mesure de Lebesgue} $\lambda$ est l'unique mesure sur $\mathbb{R}^n$ qui prolonge la notion de volume.
  Habituellement, sa tribu de définition est la \textbf{tribu de Lebesgue} ou la \textbf{tribu de Borel}.
\end{defi}

\begin{rem}
  En définissant la mesure de Lebesgue sur la tribu de Borel, elle ne serait en fait pas complète (voir \ref{rem:completion}).
  La tribu de Lebesgue est alors définie comme étant la plus petite tribu de $\mathbb{R}^n$ permettant à cette mesure d'être complète.
  
  On ne retiendra pas plus de détails sur la tribu de Lebesgue, mais il est bon de retenir qu'\textbf{un élément Borel-mesurable est Lebesgue-mesurable} (la réciproque est fausse).
\end{rem}

\begin{rem}
  On remarque immédiatement que :
  \begin{itemize}
    \itemb lorsque $n=1$, cette mesure prolonge la notion de longueur vue en introduction du chapitre.
    \itemb lorsque $n=2$, cette mesure prolonge la notion de surface.
    \itemb lorsque $n=3$, cette mesure prolonge la notion de volume.
  \end{itemize}

  Par ailleurs, cette mesure sera centrale dans la partie \ref{part:int} concernant les intégrales.
\end{rem}

\begin{defi}
  Soit $\left(E,\mathcal{A}\right)$ un espace mesurable.
  La \textbf{mesure de comptage} $c$ est définie sur cette espace comme suit :
  
  $$
    c : 
  \left\{
  \begin{array}{ccc}
    \mathcal{A} & \longrightarrow & \mathbb{R}_+\cup\left\{+\infty\right\}\\
    A &                                   \longmapsto    &  
      \left\{
      \begin{array}{rcl}
        0 & \text{si} & A = \varnothing\\
        n & \text{si} & A \text{ est fini de cardinal } n\\
        +\infty & \text{si} & A \text{ est infini}
      \end{array}
      \right.
  \end{array}
  \right.
  $$
\end{defi}

\begin{rem}
  Comme son nom l'indique, cette mesure compte les éléments présents dans l'ensemble que l'on mesure.
\end{rem}

\begin{rem}
  Bien que cette mesure soit définie pour un espace mesurable quelconque, elle sera particulièrement utile dans $\left(\mathbb{N},\mathcal{P}\left(\mathbb{N}\right)\right)$ (notamment pour la partie \ref{part:series} concernant les séries).
\end{rem}


\begin{defi}
  Soit $\left(E,\mathcal{A}\right)$ un espace mesurable.
  La \textbf{mesure de Dirac en $x \in E$} $\delta_x$ est définie comme suit :

  $$
    \delta_x : 
  \left\{
  \begin{array}{ccc}
    \mathcal{A} & \longrightarrow & \mathbb{R}_+\\
    A &                                   \longmapsto    &  
      \left\{
      \begin{array}{rcl}
        0 & \text{si} & x \in A\\
        1 & \text{si} & x \notin A
      \end{array}
      \right.
  \end{array}
  \right.
  $$
\end{defi}

\begin{rem}
  La mesure de Dirac et la fonction indicatrice sont reliées de la manière suivante :
  $$
  \forall A \in \mathcal{A}, \forall x \in E, \delta_x(A)=\mathds{1}_A(x)
  $$
\end{rem}

\section{Fonctions mesurables}

Lorsque deux espaces mesurables sont définis, il peut être utile de définir une classe de fonctions qui font bon ménage avec les tribus des espaces mis en jeu.

\begin{defi}
  Soit $\left(E, \mathcal{A}\right)$ et $\left(F, \mathcal{B}\right)$ deux espaces mesurables.
  Une \textbf{fonction } $\mathcal{A}$/$\mathcal{B}$\textbf{-mesurable} est une fonction $f : E \longrightarrow F$ telle que :
  $$ \forall Y \in \mathcal{B}, f^{-1}(Y) \in \mathcal{A} $$
\end{defi}

\begin{rem}
  Cette caractérisation des fonctions mesurables porte le nom de \textbf{critère de l'image réciproque}.
\end{rem}

\begin{rem}
  Cette notation est lourde, et c'est pourquoi elle est souvent simplifiée.
  \begin{itemize}
  \itemb dans le cas où $\mathcal{B}=\mathcal{B}\left(F\right)$ (la tribu d'arrivée est celle des boréliens), on pourra simplifier la notation et dire simplement que :
  $$
  f \text{ est } \mathcal{A}\text{-mesurable}
  $$
  \itemb si, de plus, la tribu de l'espace de départ n'est pas ambigüe, on pourra alors simplement écrire que :
  $$
  f \text{ est mesurable}
  $$
  \end{itemize}
\end{rem}

\begin{rem}
  On remarquera que la notion de fonction mesurable est \textbf{indépendante des mesures choisies}.
  Elle ne dépend que des tribus de l'espace de départ et d'arrivée.
\end{rem}

La proposition suivante permet de simplifier considérablement la vérification de la mesurabilité d'une fonction, dans le cas où l'espace d'arrivée est muni de la tribu des boréliens.

Elle découle directement du fait que la tribu des boréliens soit la tribu engendrée par les ouverts :
pour vérifier que le résultat est vrai pour tout élément de la tribu, il suffit de le vérifier sur les éléments qui engendrent la tribu (en l'ocurrence, les ouverts).

\begin{prop}
  \label{prop:simp}
  Soit $\left(E, \mathcal{A}\right)$ et $\left(F, \mathcal{B}(F)\right)$ deux espaces mesurables.
  $f$ est $\mathcal{A}$-mesurable ssi pour tout ouvert $U$ de $F$, $f^{-1}(U) \in \mathcal{A}$.
\end{prop}

\begin{rem}
  En vertu de la définition \ref{defi:Borel}, on peut remplacer dans la proposition \ref{prop:simp} \og ouvert \fg par \og fermé \fg.
\end{rem}

Le résultat suivant est un résultat important concernant la composition des fonctions mesurables :

\begin{prop}
  Soit $\left(E,\mathcal{A}\right)$, $\left(F,\mathcal{B}\right)$ et $\left(G,\mathcal{C}\right)$ trois espaces mesurables,
  $f : E \longrightarrow F$ une fonction $\mathcal{A}$/$\mathcal{B}$-mesurable et $g : F \longrightarrow G$ une fonction $\mathcal{B}$/$\mathcal{C}$-mesurable.
  Alors $g \circ f : E \longrightarrow G$ est une fonction $\mathcal{A}$/$\mathcal{C}$-mesurable
\end{prop}

%TODO : exemples de fonctions mesurables
%approximation par les fonctions étagées

\chapter{Construction de l'intégrale de Lebesgue}

Maintenant que nous connaissons les notions de base concernant la théorie de la mesure, nous sommes en mesure de définir l'intégrale de Lebesgue.
Cette intégrale est en quelque sorte une généralisation de l'intégrale de Riemann.

\section{Pourquoi définir une nouvelle intégrale ?}

Deux raisons principales peuvent nous amener à définir une nouvelle intégrale.

D'une part, l'intégrale de Riemann ne permet de calculer l'intégrale que de fonctions \textbf{continues par morceaux}.
Or, cela est très restrictif : par exemple, prenons la fonction $\mathds{1}_{\mathbb{Q}}$.
Elle n'est pas continue par morceaux, donc n'est pas intégrable au sens de Riemann.
Pourtant, pour la mesure de Lebesgue, $\mathbb{Q}$ est négligeable (voir l'exemple \ref{ex:ratneg}).
Ainsi, $\mathds{1}_{\mathbb{Q}}$ est Lebesgue-presque-partout égale à $0$.
On aurait donc envie de dire que \og l'influence de $\mathbb{Q}$ est si petite, qu'elle n'a aucun impact dans l'intégrale \fg.
En disant cela, on veut en fait dire que l'intégrale de $\mathds{1}_{\mathbb{Q}}$ serait égale à l'intégrale de la fonction nulle, qui vaut zéro.
Ce faisant, \textbf{on pourrait donner un sens à l'intégrale d'une fonction qui n'est pas continue par morceaux !}

Plus généralement, l'intégrale de Lebesgue permettra de définir l'intégrale d'une fonction mesurable, et non plus d'une fonction continue par morceaux.

D'autre part, l'intégrale de Riemann utilise la notion de longueur :
par exemple, si $f$ est la fonction constante égale à 1, nous avons

$$
\int_0^1f(x)\text{d}x = 1 > 2 = \int_0^2f(x)\text{d}x
$$

Mais il est impossible de \og mesurer différemment \fg.
En effet, si une mesure $\mu$ vérifie $\mu\left(\left[1,2\right]\right)=0$, alors on aimerait pouvoir dire que les deux intégrales ci-dessus, calculées avec $\mu$, seraient égales.
Plus généralement, \textbf{on aimerait pouvoir intégrer dans n'importe-quel espace par n'importe-quelle mesure.}
L'intégrale de Lebesgue répondra à ce besoin.

\section{Définition de l'intégrale de Lebesgue pour des fonctions positives}
\label{sect:defintpos}
Les fonctions positives ont une place privilégiée dans la théorie de l'intégration de Lebesgue.
En effet, leurs intégrales sont toujours définies (quitte à valoir $+\infty$) :

\begin{defi}
  Soit $\left(E,\mathcal{A},\mu\right)$ un espace mesuré et $f:E\rightarrow\mathbb{R}_+$ mesurable.
  \textbf{La } $\mu $\textbf{ intégrale de Lebesgue } $\displaystyle\int_Ef(x)\text{d}\mu(x)$ existe toujours et est l'unique élément de $\mathbb{R}_+\cup\{+\infty\}$ vérifiant :
  \begin{itemize}
    \itemb \textbf{la relation mesure-intégrale} : pour tout ensemble $X$ $\mathcal{A}$-mesurable,
    $$
    \int_E\mathds{1}_X(x)\text{d}\mu(x)=\mu(X)
    $$ 
    \itemb \textbf{l'hypothèse de linéarité} : pour toute fonction mesurable $g:E\rightarrow\mathbb{R}_+$ et pour tous $\left(\alpha,\beta\right) \in \left(\mathbb{R}_+^*\right)^2$,
    $$
    \int_E (\alpha f + \beta g)(x) \text{d}\mu(x)=\alpha\int_Ef(x)\text{d}\mu(x) + \beta\int_Eg(x)\text{d}\mu(x)
    $$
    \itemb \textbf{l'hypothèse de convergence monotone} : pour toute suite croissante de fonctions mesurables $f_n:E\rightarrow\mathbb{R}_+$ convergeant simplement vers $f$,
    $$
    \lim_{n\rightarrow+\infty}\int_Ef_n(x)\text{d}\mu(x)=\int_Ef(x)\text{d}\mu(x)
    $$
  \end{itemize}
\end{defi}

\begin{rem}
  L'intégrale d'une fonction mesurable positive vérifie immédiatement, par définition, ces trois hypothèses fondamentales, qui seront centrales dans la suite de ce document.
  Attention cependant : les deux hypothèses de mesurabilité et de positivité sont absolument nécessaires.
\end{rem}

\begin{defi}
  Soit $\left(E,\mathcal{A},\mu\right)$ un espace mesuré et $f:E\rightarrow\mathbb{R}_+$ mesurable.
  $f$ est dite $\mu$\textbf{-intégrable} lorsque $\displaystyle\int_Ef(x)\text{d}\mu(x) < +\infty$.
\end{defi}

\begin{rem}
  On fera donc bien attention au sens précis du mot \og intégrable \fg.
  Il est plus fort de dire qu'une fonction est intégrable, que de dire que l'intégrale d'une fonction existe.
  Par exemple, une fonction mesurable positive admet toujours une intégrale, mais elle n'est pas forcément intégrable.
\end{rem}

\begin{defi}
  %intégrale sur un sous-ensemble par l'indicatrice
\end{defi}

%Montrer comment on peut utiliser ces résultats pour prouver qqchose (avec la convergence par des fonctions étagées)

\section{Définition de l'intégrale de Lebesgue pour des fonctions signées}

La définition de l'intégrale pour une fonction signée (\textit{ie} à valeurs réelles quelconques) arrive volontairement en fin de chapitre, pour éviter de confondre les résultats.
En effet, comme cela a été souligné au début de la section \ref{sect:defintpos}, les fonctions positives occupent une place privilégiée dans la théorie de l'intégration de Lebesgue ; elles vérifient des résultats qui ne sont pas sytématiquement vrais pour les fonctions signées.

%TODO partie positive et partie négative

\begin{defi}
  % Définition pour une intégrale de signe quelconque
\end{defi}

\end{document}